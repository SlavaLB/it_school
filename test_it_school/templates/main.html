{% load static %}

<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Ä–æ–∫–∏</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/lesson_form.css' %}">
    <link rel="stylesheet" href="{% static 'css/lesson_section.css' %}">
    <link rel="stylesheet" href="{% static 'css/notifications.css' %}">
</head>
<body>
    <div class="container">
        <section class="column">
            <h1>–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫</h1>

            <form id="lesson-form" class="lesson-form">
                {% csrf_token %}
                <label>
                    –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞
                    <input type="text" name="title" required>
                </label>

                <label>
                    –û–ø–∏—Å–∞–Ω–∏–µ
                    <textarea name="description"></textarea>
                </label>

                <label>
                    –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
                    <input type="datetime-local" name="start_time" required>
                </label>

                <label>
                    –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
                    <input type="datetime-local" name="end_time">
                </label>

                <label>
                    –°—Ç–∞—Ç—É—Å
                    <select name="status">
                        <option value="scheduled">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω</option>
                        <option value="in_progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                        <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                        <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω</option>
                    </select>
                </label>

                <button type="submit">–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫</button>

                <div id="lesson-form-message"></div>
            </form>


        </section>

        <section class="column">
            <h1>–°–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤</h1>

            <div class="lessons-section">
                <div class="lessons-list" id="lessonsList"></div>

                <div class="pagination">
                    <button id="prevPage" disabled>‚Üê</button>
                    <span id="pageInfo"></span>
                    <button id="nextPage">‚Üí</button>
                </div>
            </div>

        </section>

        <section class="column">
            <h1>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h1>

            <div class="notifications-container">
                <div class="notifications-header">
                    <div class="connection-status" id="wsStatus">
                        <div class="status-dot"></div>
                        <span class="status-text">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
                    </div>
                    <div class="notifications-controls">
                        <button id="clearNotifications" class="btn-icon" title="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ">
                            üóëÔ∏è
                        </button>
                        <button id="togglePause" class="btn-icon" title="–ü–∞—É–∑–∞">
                            ‚è∏Ô∏è
                        </button>
                    </div>
                </div>

                <div class="notifications-list" id="notificationsList">
                    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                    <div class="notification-placeholder">
                        <div class="notification-placeholder-icon">üîî</div>
                        <p>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å</p>
                        <small>–û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç WebSocket...</small>
                    </div>
                </div>

                <div class="notifications-stats">
                    <span id="notificationsCount">0</span> —Å–æ–æ–±—â–µ–Ω–∏–π
                </div>
            </div>

        </section>
    </div>
<script src="{% static 'js/websocket.js' %}"></script>
<script src="{% static 'js/lesson_section.js' %}"></script>
<script src="{% static 'js/lesson_add.js' %}"></script>
</body>
</html>
